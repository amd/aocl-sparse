/*
* Copyright (C) 2020-2022 Advanced Micro Devices, Inc. All rights reserved.
*
*/
This directory contains sample source file showing sample usage of AMD Sparse
library functions.

Steps to build and run the sample application:
1. Set AOCLSPARSE_ROOT to library installed path
   export AOCLSPARSE_ROOT=<path to AOCL install directory>
   eg: export AOCLSPARSE_ROOT=$HOME/amd/aocl/3.0-5

2. Add aoclsparse shared library path to env path variable $LD_LIBRARY_PATH
   export LD_LIBRARY_PATH=$AOCLSPARSE_ROOT/lib:$LD_LIBRARY_PATH

3. Compile the sample appplication by linking to the aoclsparse library

   a. Refer the following compile/link commands to build SPMV/CSR2M applications
      g++ -O3 -DNDEBUG sample_spmv.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test
         or
      g++ -O3 -DNDEBUG sample_csr2m.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test
         or

   b. Refer the following compile/link commands to build GMRES applications
      export  SPARSE_TESTS_COMMON=<Path to tests/common in aocl-sparse repo>
      eg:
         export  SPARSE_TESTS_COMMON=$HOME/aocl-sparse/tests/common
      export  SPARSE_TESTS_INCLUDE=<Path to tests/include in aocl-sparse repo>
      eg:
         export SPARSE_TESTS_INCLUDE=$HOME/aocl-sparse/tests/include   
   g++ -O3 -DNDEBUG sample_itsol_d_gmres_rci.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test_gmres
   g++ -O3 -DNDEBUG sample_itsol_s_gmres_rci.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test_gmres
   g++ -O3 -DNDEBUG sample_itsol_d_gmres.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test_gmres
   g++ -O3 -DNDEBUG sample_itsol_s_gmres.cpp -I $AOCLSPARSE_ROOT/include/ -L$AOCLSPARSE_ROOT/lib/ -laoclsparse -o test_gmres

4. Run the application
   ./test
      or
   ./test_gmres
